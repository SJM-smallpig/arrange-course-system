webpackJsonp([17],{n4LO:function(a,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var t={components:{},props:{},data:function(){return{classData:[],showLoading:!0,adminClassData:[],teachClassData:[],tableDataHeader:[],adminHeaderData:[{col:"学号",prop:"id"},{col:"姓名",prop:"name"},{col:"选科数据",prop:"subject"},{col:"行政班",prop:"adminClass"}],teachHeaderData:[{col:"学号",prop:"id"},{col:"姓名",prop:"name"}],className:"",activeName:""}},watch:{},computed:{},methods:{goBack:function(){this.$router.go(-1)},getParams:function(a){"adminClass"==a.class?(this.classData=this.adminClassData,this.tableDataHeader=this.adminHeaderData):"teachClass"==a.class&&(this.classData=this.teachClassData,this.tableDataHeader=this.teachHeaderData)},getAdminClassData:function(a,e){var s=this;s.$axios({url:s.$root.URL+"/result?taskId="+a+"&stage=5&distribution=0",method:"get",crossDomain:!0}).then(function(a){if(200===a.status){var t=a.data,i={};for(var r in t)r==e&&(i=t[r]);if(i){var o={};for(var n in i)for(var l in i[n])o.subject=n,o.id=i[n][l].student_id,o.name=i[n][l].student_name,o.adminClass=e,s.adminClassData.push(o),o={};s.adminClassData&&(s.showLoading=!1)}}}).catch(function(a){a.response?404===a.response.status&&s.$router.push({path:"@/views/loginFailed",name:"loginFailed",query:{error:"correct"}}):a.request?(s.$router.push({path:"@/views/loginFailed",name:"loginFailed",query:{error:"error"}}),console.log(a.request)):(s.$router.push({path:"@/views/loginFailed",name:"loginFailed",query:{error:"error"}}),console.log("Error",a.message)),console.log(a.request)})},getTeachClassData:function(a,e){var s=this;s.$axios({url:s.$root.URL+"/result?taskId="+a+"&stage=5&distribution=1",method:"get",crossDomain:!0}).then(function(a){if(200===a.status){s.showLoading=!1;var t=a.data,i={};for(var r in t)if(r==e)for(var o in t[r].studentInfo)i.name=t[r].studentInfo[o].student_name,i.id=t[r].studentInfo[o].student_id,s.teachClassData.push(i),i={}}}).catch(function(a){a.response?404===a.response.status&&s.$router.push({path:"@/views/loginFailed",name:"loginFailed",query:{error:"correct"}}):a.request?(s.$router.push({path:"@/views/loginFailed",name:"loginFailed",query:{error:"error"}}),console.log(a.request)):(s.$router.push({path:"@/views/loginFailed",name:"loginFailed",query:{error:"error"}}),console.log("Error",a.message)),console.log(a.request)})}},created:function(){},mounted:function(){var a=this.$route.query;"adminClass"==a.class?(this.taskId=a.taskId,this.className=a.row.class,this.activeName=a.activeName,this.getParams(a),this.getAdminClassData(this.taskId,this.className)):"teachClass"==a.class&&(this.taskId=a.taskId,this.className=a.row.class,this.activeName=a.activeName,this.getParams(a),this.getTeachClassData(this.taskId,this.className))},beforeRouteLeave:function(a,e,s){"adminClass"!=a.name&&"teachClass"!=a.name||(a.params.active=this.activeName,a.params.taskId=this.taskId),s()}},i={render:function(){var a=this,e=a.$createElement,s=a._self._c||e;return s("div",{staticClass:"divide"},[s("el-page-header",{staticClass:"back-head",attrs:{content:a.className},on:{back:a.goBack}}),a._v(" "),s("div",{staticClass:"t-table"},[s("div",{directives:[{name:"show",rawName:"v-show",value:a.showLoading,expression:"showLoading"}]},[a._m(0)]),a._v(" "),s("el-table",{directives:[{name:"show",rawName:"v-show",value:!a.showLoading,expression:"!showLoading"}],attrs:{data:a.classData,border:"","header-cell-style":{background:"#eef1f6",color:"#606266"},stripe:""}},a._l(a.tableDataHeader,function(a,e){return s("el-table-column",{key:e,attrs:{prop:a.prop,label:a.col,width:"",align:"center"}})}),1)],1)],1)},staticRenderFns:[function(){var a=this.$createElement,e=this._self._c||a;return e("div",{staticClass:"spinner"},[e("div",{staticClass:"bounce1"}),this._v(" "),e("div",{staticClass:"bounce2"}),this._v(" "),e("div",{staticClass:"bounce3"})])}]};var r=s("VU/8")(t,i,!1,function(a){s("yNni")},"data-v-2bfc2495",null);e.default=r.exports},yNni:function(a,e){}});
//# sourceMappingURL=17.0a204170fece6771086d.js.map