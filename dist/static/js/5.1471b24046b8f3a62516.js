webpackJsonp([5],{lmfZ:function(e,r,o){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var t={components:{},props:{},data:function(){return{setPage:!1,loginPage:!0,HeaderContent:"统一身份认证登录",common:!1,ruleForm:{userName:"",password:""},setPasswordData:{phone:""},rules:{userName:[{validator:function(e,r,o){if(!r)return o(new Error("用户名不能为空"));o()},trigger:"blur"}],password:[{validator:function(e,r,o){if(""===r)return o(new Error("请输入密码"));o()},trigger:"blur"}],phone:[{validator:function(e,r,o){if(""===r)return o(new Error("请输入正确的手机号码"));o()},trigger:"blur"}]}}},watch:{},computed:{},methods:{submitForm:function(e){var r=this;r.$refs[e].validate(function(e){if(!e)return console.log("error submit!!"),!1;var o=r.ruleForm.userName,t=r.ruleForm.password,s={};s.accounts=o,s.password=t;var a=s;console.log(a),r.common=!0,r.$axios({url:"http://lede.dalaomai.cn:5051/goclass/api/user/login",method:"post",data:a,crossDomain:!0,withCredentials:!0}).then(function(e){200===e.status&&(console.log(e),r.$router.push("/helloWorld"))}).catch(function(e){e.response?404===e.response.status&&r.$router.push({path:"@/views/loginFailed",name:"loginFailed",query:{error:"correct"}}):e.request?(r.$router.push({path:"@/views/loginFailed",name:"loginFailed",query:{error:"error"}}),console.log(e.request)):(r.$router.push({path:"@/views/loginFailed",name:"loginFailed",query:{error:"error"}}),console.log("Error",e.message)),console.log(e.request)})})},setPassword:function(){this.loginPage=!this.loginPage,this.setPage=!this.setPage,this.HeaderContent="找回密码"},goLoginPage:function(){this.loginPage=!this.loginPage,this.setPage=!this.setPage,this.HeaderContent="统一身份认证登录"},sunmitPassword:function(e){this.$refs[e].validate(function(e){if(!e)return console.log("error submit!!"),!1;console.log(e)})}},created:function(){},mounted:function(){}},s={render:function(){var e=this,r=e.$createElement,o=e._self._c||r;return o("div",{staticClass:"l-main"},[o("div",{directives:[{name:"show",rawName:"v-show",value:!e.common,expression:"!common"}],staticClass:"login-page"},[o("div",{staticClass:"page-bg"},[o("div",{staticClass:"page-header"},[o("i",{staticClass:"el-icon-s-custom"}),e._v(" "),o("span",[e._v(e._s(e.HeaderContent))])]),e._v(" "),o("el-form",{directives:[{name:"show",rawName:"v-show",value:e.loginPage,expression:"loginPage"}],ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:e.ruleForm,"status-icon":"",rules:e.rules,"label-width":"100px"}},[o("el-form-item",{attrs:{label:"用户名",prop:"userName"}},[o("el-input",{model:{value:e.ruleForm.userName,callback:function(r){e.$set(e.ruleForm,"userName",e._n(r))},expression:"ruleForm.userName"}})],1),e._v(" "),o("el-form-item",{attrs:{label:"密码",prop:"password"}},[o("el-input",{attrs:{type:"password",autocomplete:"off"},model:{value:e.ruleForm.password,callback:function(r){e.$set(e.ruleForm,"password",r)},expression:"ruleForm.password"}})],1),e._v(" "),o("el-form-item",[o("el-button",{attrs:{type:"primary"},on:{click:function(r){return e.submitForm("ruleForm")}}},[e._v("登录")]),e._v(" "),o("el-button",{on:{click:e.setPassword}},[e._v("忘记密码？")])],1)],1),e._v(" "),o("el-form",{directives:[{name:"show",rawName:"v-show",value:e.setPage,expression:"setPage"}],ref:"setPasswordData",staticClass:"demo-ruleForm",attrs:{model:e.setPasswordData,"status-icon":"",rules:e.rules,"label-width":"100px"}},[o("el-form-item",{attrs:{label:"手机号",prop:"phone"}},[o("el-input",{model:{value:e.ruleForm.phone,callback:function(r){e.$set(e.ruleForm,"phone",e._n(r))},expression:"ruleForm.phone"}})],1),e._v(" "),o("el-form-item",[o("el-button",{attrs:{type:"primary"},on:{click:function(r){return e.sunmitPassword("ruleForm")}}},[e._v("提交")]),e._v(" "),o("el-button",{on:{click:e.goLoginPage}},[e._v("返回")])],1)],1)],1)])])},staticRenderFns:[]};var a=o("VU/8")(t,s,!1,function(e){o("m7mM")},"data-v-e95f9e2e",null);r.default=a.exports},m7mM:function(e,r){}});
//# sourceMappingURL=5.1471b24046b8f3a62516.js.map