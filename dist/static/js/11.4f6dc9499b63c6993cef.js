webpackJsonp([11],{BDuy:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s={components:{},props:{},data:function(){return{showLoading:!0,tagActiveName:"first",adminClassData:[]}},watch:{},computed:{},methods:{handleClick:function(t,e){console.log(t,e)},goClass:function(t){this.$router.push({path:"@/components/Class",name:"class",query:{row:t,tagActiveName:this.tagActiveName,taskId:this.taskId,class:this.$route.name}})},getFiveResultStage:function(t){var e=this;e.$axios({url:e.$root.URL+"/runtask?taskId="+t+"&stage=5",method:"post",crossDomain:!0}).then(function(a){200===a.status&&(e.timer=setInterval(function(){e.$axios({url:e.$root.URL+"/result?taskId="+t+"&stage=5&distribution=0",method:"get",crossDomain:!0}).then(function(t){if(200===t.status){clearInterval(e.timer);var a=t.data,s={};for(var i in a)s.class=i,s.classNumber=a[i].sum,e.adminClassData.push(s),s={};e.adminClassData&&(e.showLoading=!1)}}).catch(function(t){clearInterval(e.timer),t.response?404===t.response.status&&e.$router.push({path:"@/views/loginFailed",name:"loginFailed",query:{error:"correct"}}):t.request?(e.$router.push({path:"@/views/loginFailed",name:"loginFailed",query:{error:"error"}}),console.log(t.request)):(e.$router.push({path:"@/views/loginFailed",name:"loginFailed",query:{error:"error"}}),console.log("Error",t.message)),console.log(t.request)})},2e3))}).catch(function(t){console.log(t)})}},created:function(){},mounted:function(){this.$route.params.active&&(this.tagActiveName=this.$route.params.active);var t=this.$route.query;console.log(t),this.taskId=t.taskId,""!=this.taskId&&this.getFiveResultStage(this.taskId)}},i={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"w-main"},[a("div",{staticClass:"tabs"},[a("el-tabs",{on:{"tab-click":t.handleClick},model:{value:t.tagActiveName,callback:function(e){t.tagActiveName=e},expression:"tagActiveName"}},[a("div",{directives:[{name:"show",rawName:"v-show",value:t.showLoading,expression:"showLoading"}]},[a("div",{staticClass:"spinner"},[a("div",{staticClass:"bounce1"}),t._v(" "),a("div",{staticClass:"bounce2"}),t._v(" "),a("div",{staticClass:"bounce3"})])]),t._v(" "),a("el-tab-pane",{attrs:{label:"高一",name:"first"}},[a("el-table",{directives:[{name:"show",rawName:"v-show",value:!t.showLoading,expression:"!showLoading"}],staticClass:"ac-table",attrs:{data:t.adminClassData,border:"","header-cell-style":{background:"#eef1f6",color:"#606266"},stripe:""}},[a("el-table-column",{attrs:{fixed:"",prop:"class",label:"班级名称",width:"120",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"classNumber",label:"班级人数",width:"120",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{fixed:"right",label:"操作",width:"120",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){return t.goClass(e.row)}}},[t._v("查看")])]}}])})],1)],1),t._v(" "),a("div",{staticStyle:{width:"500px",height:"150px"}})],1)],1)])},staticRenderFns:[]};var o=a("VU/8")(s,i,!1,function(t){a("rWTj")},"data-v-6735797f",null);e.default=o.exports},rWTj:function(t,e){}});
//# sourceMappingURL=11.4f6dc9499b63c6993cef.js.map