webpackJsonp([13],{"2FJW":function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a={components:{},props:{},data:function(){return{taskNameArray:[]}},watch:{},computed:{taskLists:function(){return this.$store.state.taskListName}},methods:{getData:function(){var t=this.$store.state.taskListName;this.taskNameArray=t},openAddName:function(){var t=this;t.$prompt("请输入任务名称","新建任务",{confirmButtonText:"确定",cancelButtonText:"取消",inputPattern:/^[a-zA-Z0-9\u4e00-\u9fa5]+$/,inputErrorMessage:"任务名称格式不正确，只能包含汉字，数字，字母"}).then(function(e){var s=e.value;if(0==t.$store.state.taskListName.length){var a={};a.taskName=s,t.$store.commit("SET_List_NAME",a),t.$message({type:"success",message:"你的任务名称是: "+s})}else{if(0!=t.$store.state.taskListName.filter(function(t){return t.taskName==s}).length)alert("该任务已存在"),t.openAddName();else{var n={};n.taskName=s,t.$store.commit("SET_List_NAME",n),t.$message({type:"success",message:"你的任务名称是: "+s})}}}).catch(function(){t.$message({type:"info",message:"取消输入"})})},deleteTask:function(t){var e=this;e.$confirm("是否删除"+t+"这一任务","删除",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){for(var s=0;s<e.taskNameArray.length;s++)e.taskNameArray[s].taskName==t&&(e.$store.commit("DEL_List_NAME",t),console.log(e.$store.getters.getTaskList),e.$message({type:"success",message:"删除成功!"}))}).catch(function(){e.$message({type:"info",message:"已取消删除"})})},setName:function(t){var e=this;e.$prompt("请输入新名称","重命名",{confirmButtonText:"确定",cancelButtonText:"取消",inputPattern:/^[a-zA-Z0-9\u4e00-\u9fa5]+$/,inputErrorMessage:"任务名称格式不正确，只能包含汉字，数字，字母"}).then(function(s){var a=s.value,n={};n.oldName=t,n.reName=a,e.$store.commit("LIST_RENAME",n),e.$message({type:"success",message:"重命名成功!"})}).catch(function(){e.$message({type:"info",message:"取消输入"})})},toSetRules:function(t){this.$router.push({path:"@/views/SetRules",name:"setRules",query:{taskName:t}})},getTasksStatusForClassStrategy:function(){console.log(this.$store.state.token),this.$axios({url:"http://lede.dalaomai.cn:5050/goclass/api/admin/timer/schedul/1",method:"get",headers:{"Content-Type":"application/json",token:this.$store.state.token},crossDomain:!0}).then(function(t){console.log("数据是:",t)}).catch(function(t){console.log("获取数据失败")})}},created:function(){this.getData(),this.getTasksStatusForClassStrategy()},mounted:function(){}},n={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"a-main"},[s("el-card",{staticClass:"box-card"},[s("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[s("span",[t._v("新建任务")]),t._v(" "),s("el-button",{staticClass:"add-bt",attrs:{type:"text"},on:{click:t.openAddName}},[s("i",{staticClass:"el-icon-plus"})])],1),t._v(" "),t._l(t.taskNameArray,function(e){return s("div",{key:e.index,staticClass:"card-content"},[s("i",{staticClass:"el-icon-edit",on:{click:function(s){return t.setName(e.taskName)}}}),t._v("\n      "+t._s(e.taskName)+"\n      "),s("el-button",{staticClass:"set-bt delete-task",attrs:{type:"danger",size:"mini",round:""},on:{click:function(s){return t.deleteTask(e.taskName)}}},[t._v("删除")]),t._v(" "),s("el-button",{staticClass:"set-bt",attrs:{type:"primary",size:"mini",round:""},on:{click:function(s){return t.toSetRules(e.taskName)}}},[t._v("设置")])],1)})],2)],1)},staticRenderFns:[]};var o=s("VU/8")(a,n,!1,function(t){s("pBSc")},"data-v-4000ea1b",null);e.default=o.exports},pBSc:function(t,e){}});
//# sourceMappingURL=13.efc34055e0ff90e5cd58.js.map