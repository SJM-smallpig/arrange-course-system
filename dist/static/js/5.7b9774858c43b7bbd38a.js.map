{"version":3,"sources":["webpack:///src/views/divide-class-manage/SetRules.vue","webpack:///./src/views/divide-class-manage/SetRules.vue?7d51","webpack:///./src/views/divide-class-manage/SetRules.vue"],"names":["SetRules","components","props","data","addShow","form","taskName","grade","classCategory","teachData","subject","Chinese","Math","English","Physics","Chemistry","Biology","Geography","History","Politics","sum","studentData","hgp","hgb","hgs","hpb","hps","hbs","pgp","pgb","pgs","ppb","pps","pbs","miniNums","maxNums","watch","computed","taskLists","this","$store","state","methods","getSum","obj","arr","i","push","parseInt","pop","length","shift","reduce","prev","cur","timeTr","jquery_default","eq","find","j","css","goBack","$router","go","deleteRow","index","rows","splice","trLength","addTime","time","num","temp","split","hour","minute","remainNum","toString","join","addTimeRow","lastEndTime","timeTable","endTime","newStartTime","newEndTime","alert","rowData","section","startTime","submitForm","formName","formData","that","filter","commit","$refs","validate","valid","console","log","path","name","query","created","mounted","params","$route","currentList","updated","divide_class_manage_SetRules","render","_vm","_h","$createElement","_c","_self","staticClass","attrs","content","on","back","_v","ref","model","label-width","label-position","label","_s","value","callback","$$v","$set","expression","border","size","id","header-cell-style","background","color","prop","align","width","rules","required","message","type","staticStyle","autocomplete","maxlength","placeholder","_n","click","$event","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/5.7b9774858c43b7bbd38a.js","sourcesContent":["<template>\r\n  <div class=\"s-main\">\r\n    <el-page-header @back=\"goBack\" content=\"设置分班规则\" class=\"back-head\"></el-page-header>\r\n    <div class=\"s-form\">\r\n      <el-form ref=\"form\" :model=\"form\" label-width=\"180px\" class=\"form\" label-position=\"right\">\r\n        <el-form-item label=\"任务名称\">\r\n          <span class=\"task-name\">{{form.taskName}}</span>\r\n        </el-form-item>\r\n        <el-form-item label=\"年级\">\r\n          <el-radio-group v-model=\"form.grade\">\r\n            <el-radio label=\"高一\"></el-radio>\r\n            <el-radio label=\"高二\"></el-radio>\r\n            <el-radio label=\"高三\"></el-radio>\r\n          </el-radio-group>\r\n        </el-form-item>\r\n        <el-form-item label=\"班类\">\r\n          <el-radio-group v-model=\"form.classCategory\">\r\n            <el-radio label=\"行政班\"></el-radio>\r\n            <el-radio label=\"教学班\"></el-radio>\r\n          </el-radio-group>\r\n        </el-form-item>\r\n        <el-form-item label=\"学生选科组合人数\">\r\n          <el-table\r\n            v-model=\"form.studentData\"\r\n            :data=\"form.studentData\"\r\n            border\r\n            size=\"mini\"\r\n            class=\"st-table\"\r\n            id=\"st-table\"\r\n            :header-cell-style=\"{background:'#eef1f6',color:'#606266'}\"\r\n          >\r\n            <el-table-column prop=\"subject\" label=\"科目\" align=\"center\" width=\"60px\"></el-table-column>\r\n            <el-table-column prop=\"hgp\" label=\"历地政\" align=\"center\" width=\"60px\"></el-table-column>\r\n            <el-table-column prop=\"hgb\" label=\"历地生\" align=\"center\" width=\"60px\"></el-table-column>\r\n            <el-table-column prop=\"hgs\" label=\"历地化\" align=\"center\" width=\"60px\"></el-table-column>\r\n            <el-table-column prop=\"hpb\" label=\"历政生\" align=\"center\" width=\"60px\"></el-table-column>\r\n            <el-table-column prop=\"hps\" label=\"历政化\" align=\"center\" width=\"60px\"></el-table-column>\r\n            <el-table-column prop=\"hbs\" label=\"历生化\" align=\"center\" width=\"60px\"></el-table-column>\r\n            <el-table-column prop=\"pgp\" label=\"物地政\" align=\"center\" width=\"60px\"></el-table-column>\r\n            <el-table-column prop=\"pgb\" label=\"物地生\" align=\"center\" width=\"60px\"></el-table-column>\r\n            <el-table-column prop=\"pgs\" label=\"物地化\" align=\"center\" width=\"60px\"></el-table-column>\r\n            <el-table-column prop=\"ppb\" label=\"物政生\" align=\"center\" width=\"60px\"></el-table-column>\r\n            <el-table-column prop=\"pps\" label=\"物政化\" align=\"center\" width=\"60px\"></el-table-column>\r\n            <el-table-column prop=\"pbs\" label=\"物生化\" align=\"center\" width=\"60px\"></el-table-column>\r\n            <el-table-column prop=\"sum\" label=\"总计\" align=\"center\" width=\"60px\"></el-table-column>\r\n          </el-table>\r\n        </el-form-item>\r\n\r\n        <el-form-item label=\"老师科目人数\">\r\n          <el-table\r\n            v-model=\"form.teachData\"\r\n            :data=\"form.teachData\"\r\n            border\r\n            size=\"mini\"\r\n            class=\"t-table\"\r\n            id=\"st-table\"\r\n            :header-cell-style=\"{background:'#eef1f6',color:'#606266'}\"\r\n          >\r\n            <el-table-column prop=\"subject\" label=\"科目\" align=\"center\" width=\"80px\"></el-table-column>\r\n            <el-table-column prop=\"Chinese\" label=\"语文\" align=\"center\" width=\"80px\"></el-table-column>\r\n            <el-table-column prop=\"Math\" label=\"数学\" align=\"center\" width=\"80px\"></el-table-column>\r\n            <el-table-column prop=\"English\" label=\"英语\" align=\"center\" width=\"80px\"></el-table-column>\r\n            <el-table-column prop=\"Physics\" label=\"物理\" align=\"center\" width=\"80px\"></el-table-column>\r\n            <el-table-column prop=\"Chemistry\" label=\"化学\" align=\"center\" width=\"80px\"></el-table-column>\r\n            <el-table-column prop=\"Biology\" label=\"生物\" align=\"center\" width=\"80px\"></el-table-column>\r\n            <el-table-column prop=\"Geography\" label=\"地理\" align=\"center\" width=\"80px\"></el-table-column>\r\n            <el-table-column prop=\"History\" label=\"历史\" align=\"center\" width=\"80px\"></el-table-column>\r\n            <el-table-column prop=\"Politics\" label=\"政治\" align=\"center\" width=\"80px\"></el-table-column>\r\n            <el-table-column prop=\"sum\" label=\"总计\" align=\"center\" width=\"80px\"></el-table-column>\r\n          </el-table>\r\n        </el-form-item>\r\n        <el-form-item\r\n          label=\"班级最少人数\"\r\n          prop=\"miniNums\"\r\n          :rules=\"[\r\n                    { required: true, message: '该空不能为空'},\r\n                    { type: 'number', message: '该空必须为数字值'}\r\n                    ]\"\r\n        >\r\n          <el-input\r\n            type=\"text\"\r\n            v-model.number=\"form.miniNums\"\r\n            autocomplete=\"off\"\r\n            maxlength=\"3\"\r\n            placeholder=\"请输入数字\"\r\n            style=\"width:200px\"\r\n            class=\"input\"\r\n          ></el-input>\r\n        </el-form-item>\r\n        <el-form-item\r\n          label=\"班级最多人数\"\r\n          prop=\"maxNums\"\r\n          :rules=\"[\r\n                    { required: true, message: '该空不能为空'},\r\n                    { type: 'number', message: '该空必须为数字值'}\r\n                    ]\"\r\n        >\r\n          <el-input\r\n            type=\"text\"\r\n            v-model.number=\"form.maxNums\"\r\n            autocomplete=\"off\"\r\n            maxlength=\"3\"\r\n            style=\"width:200px\"\r\n            placeholder=\"请输入数字\"\r\n            class=\"input\"\r\n          ></el-input>\r\n        </el-form-item>\r\n        <!--<el-form-item label=\"课程时间设置\">\r\n          <el-table\r\n            class=\"time-table\"\r\n            :data=\"form.timeTable\"\r\n            v-model=\"form.timeTable\"\r\n            style=\"width: 781px\"\r\n            size=\"mini\"\r\n            :header-cell-style=\"{background:'#eef1f6',color:'#606266'}\"\r\n          >\r\n            <el-table-column prop=\"section\" label width=\"180\" align=\"center\"></el-table-column>\r\n            <el-table-column prop=\"time\" label=\"课程时间\" width=\"480\" align=\"center\">\r\n              <template slot-scope=\"scope\">\r\n                <el-time-select\r\n                  :rules=\"[\r\n                    { required: true, message: '该空不能为空'},\r\n                    { type: 'number', message: '该空必须为数字值'}\r\n                    ]\"\r\n                  placeholder=\"起始时间\"\r\n                  v-model=\"scope.row.time.startTime\"\r\n                  :picker-options=\"{\r\n      start: '06:00',\r\n      step: '00:05',\r\n      end: '22:30'\r\n    }\"\r\n                ></el-time-select>\r\n                <el-time-select\r\n                  placeholder=\"结束时间\"\r\n                  v-model=\"scope.row.time.endTime\"\r\n                  :picker-options=\"{\r\n      start: '06:00',\r\n      step: '00:05',\r\n      end: '22:30',\r\n      minTime: scope.row.time.startTime\r\n    }\"\r\n                ></el-time-select>\r\n              </template>\r\n            </el-table-column>\r\n            <el-table-column label=\"操作\" width=\"120\">\r\n              <template slot-scope=\"scope\">\r\n                <el-button\r\n                  @click.native.prevent=\"deleteRow(scope.$index, form.timeTable)\"\r\n                  type=\"text\"\r\n                  size=\"small\"\r\n                >移除</el-button>\r\n              </template>\r\n            </el-table-column>\r\n          </el-table>\r\n          <span class=\"add-time-row\" @click=\"addTimeRow\" v-show=\"addShow\">+</span>\r\n        </el-form-item>-->\r\n        <el-form-item>\r\n          <el-button class=\"save\">保存</el-button>\r\n          <el-button type=\"primary\" @click=\"submitForm('form',form)\" class=\"sub\">开始分班</el-button>\r\n        </el-form-item>\r\n      </el-form>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport $ from \"jquery\";\r\nexport default {\r\n  components: {},\r\n  props: {},\r\n  data() {\r\n    return {\r\n      addShow: true,\r\n      form: {\r\n        taskName: \"\",\r\n        grade: \"高一\",\r\n        classCategory: \"行政班\",\r\n        teachData: [\r\n          {\r\n            subject: \"人数\",\r\n            Chinese: \"173\",\r\n            Math: \"260\",\r\n            English: \"55\",\r\n            Physics: \"52\",\r\n            Chemistry: \"30\",\r\n            Biology: \"50\",\r\n            Geography: \"00\",\r\n            History: \"10\",\r\n            Politics: \"20\",\r\n            sum: \"\"\r\n          }\r\n        ],\r\n        studentData: [\r\n          {\r\n            subject: \"人数\",\r\n            hgp: \"173\",\r\n            hgb: \"500\",\r\n            hgs: \"500\",\r\n            hpb: \"55\",\r\n            hps: \"752\",\r\n            hbs: \"130\",\r\n            pgp: \"457\",\r\n            pgb: \"50\",\r\n            pgs: \"200\",\r\n            ppb: \"150\",\r\n            pps: \"20\",\r\n            pbs: \"585\",\r\n            sum: \"\"\r\n          }\r\n        ],\r\n        miniNums: \"\",\r\n        maxNums: \"\",\r\n        // timeTable: [\r\n        //   {\r\n        //     section: \"第1节课\",\r\n        //     time: { startTime: \"07:00\", endTime: \"07:40\" }\r\n        //   }\r\n        // ]\r\n      }\r\n    };\r\n  },\r\n  watch: {},\r\n  computed: {\r\n    taskLists() {\r\n      return this.$store.state.taskLists;\r\n    }\r\n  },\r\n  methods: {\r\n    //求和\r\n    getSum(obj) {\r\n      var arr = [];\r\n      for (let i in obj) {\r\n        arr.push(parseInt(obj[i]));\r\n      }\r\n      arr.pop(arr.length - 1);\r\n      arr.shift(1);\r\n      let sum = arr.reduce(function(prev, cur) {\r\n        return prev + cur;\r\n      }, 0);\r\n      obj.sum = sum;\r\n      let tbody = $(\"tbody\");\r\n      //移除timeTable的删除操作\r\n      let timeTr = tbody.eq(2).find(\"tr\");\r\n      for (let j = 0; j < timeTr.length - 1; j++) {\r\n        $(\"tbody:eq(2) tr:eq(\" + j + \") .cell:eq(2)\").css(\r\n          \"visibility\",\r\n          \"hidden\"\r\n        );\r\n      }\r\n    },\r\n    //返回上一页\r\n    goBack() {\r\n      this.$router.go(-1);\r\n    },\r\n    //删除timeTable的某行\r\n    deleteRow(index, rows) {\r\n      rows.splice(index, 1);\r\n      let trLength = $(\".time-table\").find(\"tr\").length - 2;\r\n      $(\".time-table tr:eq(\" + trLength + \") .cell:eq(2)\").css(\r\n        \"visibility\",\r\n        \"visible\"\r\n      );\r\n    },\r\n    //timeTable每行增加时间\r\n    addTime(time, num) {\r\n      let temp = time.split(\":\");\r\n      let hour = parseInt(temp[0]);\r\n      let minute = parseInt(temp[1]) + num;\r\n      if (minute >= 60) {\r\n        let remainNum = minute - 60;\r\n        minute = remainNum;\r\n        if (remainNum < 60) {\r\n          hour += 1;\r\n        }\r\n      }\r\n      if (hour.toString().length == 1) {\r\n        hour = \"0\" + hour;\r\n      }\r\n      if (minute.toString().length == 1) {\r\n        minute = \"0\" + minute;\r\n      }\r\n      if (hour >= 22 && minute >= 30) {\r\n        return time;\r\n      } else {\r\n        let newTime = [hour, minute].join(\":\");\r\n        return newTime;\r\n      }\r\n    },\r\n    //增加timeTable的行数\r\n    addTimeRow() {\r\n      let rows = $(\".time-table\").find(\"tr\").length - 1;\r\n      let lastEndTime = this.form.timeTable[rows - 1].time.endTime;\r\n      let newStartTime = this.addTime(lastEndTime, 55);\r\n      let newEndTime = this.addTime(newStartTime, 45);\r\n      if (newStartTime == lastEndTime) {\r\n        alert(\"已超过最大时间，不能继续添加\");\r\n        this.addShow = false;\r\n      } else {\r\n        let rowCurrent = rows + 1;\r\n        let rowData = {\r\n          section: \"第\" + rowCurrent + \"节课\",\r\n          time: { startTime: newStartTime, endTime: newEndTime }\r\n        };\r\n        this.form.timeTable.push(rowData);\r\n      }\r\n    },\r\n    //提交表单\r\n    submitForm(formName, formData) {\r\n      let taskLists = this.$store.state.taskLists;\r\n      let that = this;\r\n      var newLists = taskLists.filter(function(i) {\r\n        return i.taskName == formData.taskName;\r\n      });\r\n      if (newLists.length == 0) {\r\n        that.$store.commit(\"SET_List\", formData);\r\n      } else {\r\n        that.$store.commit(\"UPDATE_List\", formData);\r\n      }\r\n\r\n      // console.log(JSON.stringify(formData));\r\n\r\n      that.$refs[formName].validate(valid => {\r\n        if (valid) {\r\n          that.$router.push({\r\n            path: \"@/components/rulesStage/RuleOneStage\", //跳转路径\r\n            name: \"ruleOneStage\", //跳转路径的name值，不写跳转后页面取不到参数\r\n            // 参数\r\n            query: {\r\n              form: that.form\r\n            }\r\n          });\r\n        } else {\r\n          console.log(\"error submit!!\");\r\n          return false;\r\n        }\r\n      });\r\n    }\r\n  },\r\n  created() {\r\n    // console.log(this.$store.state.taskLists)\r\n  },\r\n  mounted() {\r\n    var that = this;\r\n    let params = that.$route.query;\r\n\r\n    //获取当前任务名\r\n    let studentData = that.form.studentData[0];\r\n    let teachData = that.form.teachData[0];\r\n    // console.log(studentData)\r\n    that.getSum(studentData);\r\n    that.getSum(teachData);\r\n    let taskList = that.$store.state.taskLists;\r\n    //若存在数据则先加载\r\n    let currentList = taskList.filter(function(i) {\r\n      return i.taskName == params.taskName;\r\n    });\r\n    if (currentList.length == 0) {\r\n      // that.form = {}\r\n    } else {\r\n      that.form = currentList[0];\r\n    }\r\n    that.form.taskName = params.taskName;\r\n  },\r\n  updated() {\r\n    // this.getSum(); //求和\r\n  }\r\n};\r\n</script>\r\n<style scoped>\r\n.s-main {\r\n  position: relative;\r\n  margin-top: 30px;\r\n  margin-right: 0;\r\n  margin-left: 20px;\r\n  height: 1200px;\r\n}\r\n.back-head {\r\n  margin-bottom: 10px;\r\n  color: #a8a6a6;\r\n  margin-top: 30px;\r\n}\r\n.s-form {\r\n  margin: 0 auto;\r\n}\r\n.form {\r\n  position: absolute;\r\n  left: 50%;\r\n  top: 80px;\r\n  transform: translate(-50%, 0);\r\n}\r\n.save {\r\n  margin-top: 50px;\r\n}\r\n.sub {\r\n  margin-top: 50px;\r\n  margin-left: 30px;\r\n}\r\n.task-name {\r\n  font-size: 14px;\r\n  color: #409eff;\r\n}\r\n.t-table {\r\n  width: 881px;\r\n}\r\n.st-table {\r\n  width: 841px;\r\n}\r\n.time-table {\r\n  position: relative;\r\n}\r\n.add-time-row {\r\n  position: absolute;\r\n  display: block;\r\n  line-height: 20px;\r\n  text-align: center;\r\n  width: 40px;\r\n  height: 20px;\r\n  border-radius: 0 0 40px 40px;\r\n  border: 1px solid rgb(220, 223, 230);\r\n  left: 400px;\r\n  color: #409eff;\r\n  cursor: pointer;\r\n}\r\n.td-dispaly {\r\n  display: none;\r\n  \r\n}\r\n</style>\n\n\n// WEBPACK FOOTER //\n// src/views/divide-class-manage/SetRules.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"s-main\"},[_c('el-page-header',{staticClass:\"back-head\",attrs:{\"content\":\"设置分班规则\"},on:{\"back\":_vm.goBack}}),_vm._v(\" \"),_c('div',{staticClass:\"s-form\"},[_c('el-form',{ref:\"form\",staticClass:\"form\",attrs:{\"model\":_vm.form,\"label-width\":\"180px\",\"label-position\":\"right\"}},[_c('el-form-item',{attrs:{\"label\":\"任务名称\"}},[_c('span',{staticClass:\"task-name\"},[_vm._v(_vm._s(_vm.form.taskName))])]),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"年级\"}},[_c('el-radio-group',{model:{value:(_vm.form.grade),callback:function ($$v) {_vm.$set(_vm.form, \"grade\", $$v)},expression:\"form.grade\"}},[_c('el-radio',{attrs:{\"label\":\"高一\"}}),_vm._v(\" \"),_c('el-radio',{attrs:{\"label\":\"高二\"}}),_vm._v(\" \"),_c('el-radio',{attrs:{\"label\":\"高三\"}})],1)],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"班类\"}},[_c('el-radio-group',{model:{value:(_vm.form.classCategory),callback:function ($$v) {_vm.$set(_vm.form, \"classCategory\", $$v)},expression:\"form.classCategory\"}},[_c('el-radio',{attrs:{\"label\":\"行政班\"}}),_vm._v(\" \"),_c('el-radio',{attrs:{\"label\":\"教学班\"}})],1)],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"学生选科组合人数\"}},[_c('el-table',{staticClass:\"st-table\",attrs:{\"data\":_vm.form.studentData,\"border\":\"\",\"size\":\"mini\",\"id\":\"st-table\",\"header-cell-style\":{background:'#eef1f6',color:'#606266'}},model:{value:(_vm.form.studentData),callback:function ($$v) {_vm.$set(_vm.form, \"studentData\", $$v)},expression:\"form.studentData\"}},[_c('el-table-column',{attrs:{\"prop\":\"subject\",\"label\":\"科目\",\"align\":\"center\",\"width\":\"60px\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"hgp\",\"label\":\"历地政\",\"align\":\"center\",\"width\":\"60px\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"hgb\",\"label\":\"历地生\",\"align\":\"center\",\"width\":\"60px\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"hgs\",\"label\":\"历地化\",\"align\":\"center\",\"width\":\"60px\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"hpb\",\"label\":\"历政生\",\"align\":\"center\",\"width\":\"60px\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"hps\",\"label\":\"历政化\",\"align\":\"center\",\"width\":\"60px\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"hbs\",\"label\":\"历生化\",\"align\":\"center\",\"width\":\"60px\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"pgp\",\"label\":\"物地政\",\"align\":\"center\",\"width\":\"60px\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"pgb\",\"label\":\"物地生\",\"align\":\"center\",\"width\":\"60px\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"pgs\",\"label\":\"物地化\",\"align\":\"center\",\"width\":\"60px\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"ppb\",\"label\":\"物政生\",\"align\":\"center\",\"width\":\"60px\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"pps\",\"label\":\"物政化\",\"align\":\"center\",\"width\":\"60px\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"pbs\",\"label\":\"物生化\",\"align\":\"center\",\"width\":\"60px\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"sum\",\"label\":\"总计\",\"align\":\"center\",\"width\":\"60px\"}})],1)],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"老师科目人数\"}},[_c('el-table',{staticClass:\"t-table\",attrs:{\"data\":_vm.form.teachData,\"border\":\"\",\"size\":\"mini\",\"id\":\"st-table\",\"header-cell-style\":{background:'#eef1f6',color:'#606266'}},model:{value:(_vm.form.teachData),callback:function ($$v) {_vm.$set(_vm.form, \"teachData\", $$v)},expression:\"form.teachData\"}},[_c('el-table-column',{attrs:{\"prop\":\"subject\",\"label\":\"科目\",\"align\":\"center\",\"width\":\"80px\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"Chinese\",\"label\":\"语文\",\"align\":\"center\",\"width\":\"80px\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"Math\",\"label\":\"数学\",\"align\":\"center\",\"width\":\"80px\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"English\",\"label\":\"英语\",\"align\":\"center\",\"width\":\"80px\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"Physics\",\"label\":\"物理\",\"align\":\"center\",\"width\":\"80px\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"Chemistry\",\"label\":\"化学\",\"align\":\"center\",\"width\":\"80px\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"Biology\",\"label\":\"生物\",\"align\":\"center\",\"width\":\"80px\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"Geography\",\"label\":\"地理\",\"align\":\"center\",\"width\":\"80px\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"History\",\"label\":\"历史\",\"align\":\"center\",\"width\":\"80px\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"Politics\",\"label\":\"政治\",\"align\":\"center\",\"width\":\"80px\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"sum\",\"label\":\"总计\",\"align\":\"center\",\"width\":\"80px\"}})],1)],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"班级最少人数\",\"prop\":\"miniNums\",\"rules\":[\n                  { required: true, message: '该空不能为空'},\n                  { type: 'number', message: '该空必须为数字值'}\n                  ]}},[_c('el-input',{staticClass:\"input\",staticStyle:{\"width\":\"200px\"},attrs:{\"type\":\"text\",\"autocomplete\":\"off\",\"maxlength\":\"3\",\"placeholder\":\"请输入数字\"},model:{value:(_vm.form.miniNums),callback:function ($$v) {_vm.$set(_vm.form, \"miniNums\", _vm._n($$v))},expression:\"form.miniNums\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"班级最多人数\",\"prop\":\"maxNums\",\"rules\":[\n                  { required: true, message: '该空不能为空'},\n                  { type: 'number', message: '该空必须为数字值'}\n                  ]}},[_c('el-input',{staticClass:\"input\",staticStyle:{\"width\":\"200px\"},attrs:{\"type\":\"text\",\"autocomplete\":\"off\",\"maxlength\":\"3\",\"placeholder\":\"请输入数字\"},model:{value:(_vm.form.maxNums),callback:function ($$v) {_vm.$set(_vm.form, \"maxNums\", _vm._n($$v))},expression:\"form.maxNums\"}})],1),_vm._v(\" \"),_c('el-form-item',[_c('el-button',{staticClass:\"save\"},[_vm._v(\"保存\")]),_vm._v(\" \"),_c('el-button',{staticClass:\"sub\",attrs:{\"type\":\"primary\"},on:{\"click\":function($event){return _vm.submitForm('form',_vm.form)}}},[_vm._v(\"开始分班\")])],1)],1)],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-cab7e722\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/views/divide-class-manage/SetRules.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-cab7e722\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./SetRules.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./SetRules.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./SetRules.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-cab7e722\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./SetRules.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-cab7e722\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/divide-class-manage/SetRules.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}